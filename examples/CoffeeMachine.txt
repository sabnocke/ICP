name CoffeeMachine
comment: Simulace automatu kávovaru s mletím, extrakcí, výdejem a čištěním.
Input:
Output: status

Variables:
    int tIdle     = 2000
    int tGrind    = 3000
    int tBrew     = 4000
    int tDispense = 2000
    int tClean    = 5000
    int cycles    = 1
    int count     = 0
States:
    state IDLE     [ return "IDLE: cekam pred cyklem"; ]
    state GRIND    [ return "GRIND: mleti zrn"; ]
    state BREW     [ return "BREW: priprava kavy"; ]
    state DISPENSE [ return "DISPENSE: vydej do salku"; ]
    state CLEAN    [ count = count + 1; return "CLEAN: cisteni (" .. tonumber(count) .. "/" .. tonumber(cycles) .. ")"; ]
    state STOPPED  [ return "STOPPED: konec cyklu"; ]
Transitions:
    IDLE     --> GRIND    : [ count < cycles ] @ tIdle
    IDLE     --> STOPPED  : [ count >= cycles ] @ tIdle
    GRIND    --> BREW     : @ tGrind
    BREW     --> DISPENSE : @ tBrew
    DISPENSE --> CLEAN    : @ tDispense
    CLEAN    --> IDLE     : [ count < cycles ] @ tClean
    CLEAN    --> STOPPED  : [ count >= cycles ] @ tClean 
